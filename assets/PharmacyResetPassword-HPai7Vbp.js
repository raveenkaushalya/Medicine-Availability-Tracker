import{n as x,u as b,r as a,j as e,a as y}from"./index-TVFySRve.js";function P(){const[i]=x(),c=b(),u=i.get("token")||"",[s,m]=a.useState(""),[o,p]=a.useState(""),[n,l]=a.useState(!1),[d,r]=a.useState(null),[g,h]=a.useState(!1),w=async t=>{if(t.preventDefault(),r(null),!s||s.length<6){r("Password must be at least 6 characters.");return}if(s!==o){r("Passwords do not match.");return}l(!0);try{await y("/api/v1/pharmacies/set-password",{method:"POST",body:JSON.stringify({token:u,newPassword:s,confirmPassword:o})}),h(!0),setTimeout(()=>c("/"),2e3)}catch(f){r(f?.message||"Failed to reset password")}finally{l(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Reset Password"}),g?e.jsx("div",{className:"text-green-700 font-medium",children:"Password reset! Redirecting to login..."}):e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsx("input",{type:"password",className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"New password",value:s,onChange:t=>m(t.target.value),required:!0}),e.jsx("input",{type:"password",className:"w-full border border-gray-300 rounded-lg px-4 py-2",placeholder:"Confirm new password",value:o,onChange:t=>p(t.target.value),required:!0}),d&&e.jsx("div",{className:"text-red-600 text-sm",children:d}),e.jsx("button",{type:"submit",className:"w-full bg-blue-900 text-white rounded-lg py-2 font-semibold hover:bg-blue-800 transition-colors",disabled:n,children:n?"Resetting...":"Reset Password"})]})]})})}export{P as default};
